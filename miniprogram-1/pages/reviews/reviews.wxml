<view class="reviews-container">
  <!-- è¯„ä»·ç»Ÿè®¡ -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-number">{{totalReviews}}</text>
      <text class="stat-label">æ€»è¯„ä»·æ•°</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{averageRating.toFixed(1)}}</text>
      <text class="stat-label">å¹³å‡è¯„åˆ†</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{helpfulCount}}</text>
      <text class="stat-label">è·èµæ•°</text>
    </view>
  </view>

  <!-- è¯„ä»·åˆ—è¡¨ -->
  <view class="reviews-list">
    <block wx:for="{{reviews}}" wx:key="reviewId">
      <view class="review-item">
        <view class="review-header">
          <image class="store-avatar" src="{{item.storeAvatar || '/images/store-default.png'}}" mode="aspectFill"></image>
          <view class="store-info">
            <text class="store-name">{{item.storeName}}</text>
            <text class="review-time">{{item.reviewTime}}</text>
          </view>
          <view class="rating">
            <text class="rating-text">{{item.rating}}åˆ†</text>
            <text class="rating-stars">â­</text>
          </view>
        </view>

        <view class="review-content">
          <text class="review-text">{{item.content}}</text>
        </view>

        <view class="review-footer">
          <view class="order-info">
            <text class="order-desc">è®¢å•: {{item.orderId}} â€¢ {{item.orderAmount}}å…ƒ</text>
          </view>
          <view class="actions">
            <view class="action-item" bindtap="toggleHelpful" data-index="{{index}}">
              <text class="icon">ğŸ‘</text>
              <text class="count">{{item.helpfulCount}}</text>
            </view>
            <view class="action-item" bindtap="deleteReview" data-index="{{index}}">
              <text class="icon">ğŸ—‘ï¸</text>
              <text class="text">åˆ é™¤</text>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{reviews.length === 0}}" class="empty-state">
    <image class="empty-icon" src="/images/empty-reviews.png" mode="aspectFit"></image>
    <text class="empty-text">æš‚æ— è¯„ä»·è®°å½•</text>
    <text class="empty-desc">å»è®¢å•é¡µé¢è¯„ä»·ä½ çš„ç¾é£Ÿä½“éªŒå§</text>
    <button class="go-orders-btn" bindtap="goToOrders">æŸ¥çœ‹è®¢å•</button>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view wx:if="{{hasMore && reviews.length > 0}}" class="load-more">
    <text class="load-more-text" bindtap="loadMoreReviews">åŠ è½½æ›´å¤š</text>
  </view>
</view>