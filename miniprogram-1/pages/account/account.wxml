<!--account.wxml-->
<view class="container">
  <!-- 用户信息卡片 -->
  <view class="user-card">
    <view class="user-header">
      <view class="user-info">
        <text class="nickname" wx:if="{{!loading}}">{{userInfo.customerName || '未设置昵称'}}</text>
        <text class="nickname loading-text" wx:if="{{loading}}">加载中...</text>
        <text class="phone" wx:if="{{!loading && userInfo.phone}}">{{userInfo.phone}}</text>
        <text class="phone no-phone" wx:if="{{!loading && !userInfo.phone}}">未绑定手机</text>
        <view class="member-badge">
          <text class="member-level" wx:if="{{!loadingMember}}">{{userInfo.vipLevelName || '普通会员'}}</text>
          <text class="member-level loading-text" wx:if="{{loadingMember}}">...</text>
        </view>
        <view class="member-stats">
          <view class="stat-item">
            <text class="stat-label">积分</text>
            <text class="stat-value" wx:if="{{!loadingMember}}">{{userInfo.points || 0}}</text>
            <text class="stat-loading" wx:if="{{loadingMember}}">...</text>
          </view>
          <view class="stat-item">
            <text class="stat-label">累计消费</text>
            <text class="stat-value" wx:if="{{!loadingMember}}">¥{{userInfo.totalConsumption || 0}}</text>
            <text class="stat-loading" wx:if="{{loadingMember}}">...</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-section">
    <view class="menu-title">我的服务</view>
    <view class="menu-list">
      <view 
        class="menu-item" 
        wx:for="{{menuItems}}" 
        wx:key="title"
        data-url="{{item.url}}"
        bindtap="navigateTo"
      >
        <view class="menu-icon">{{item.icon}}</view>
        <view class="menu-content">
          <text class="menu-title-text">{{item.title}}</text>
          <text class="menu-desc">{{item.desc}}</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
    </view>
  </view>

  <!-- 退出登录按钮 -->
  <view class="logout-section">
    <button class="logout-btn" bindtap="logout">退出登录</button>
  </view>
</view> 