# 餐饮管理系统 - 登录功能说明

## 功能概述

本系统已集成用户认证和权限管理功能，确保系统安全性和用户权限控制。

## 登录方式

### 1. 访问系统
- 打开浏览器，访问系统地址
- 系统将自动跳转到登录页面 (`login.html`)

### 2. 使用预设账号登录
系统预设了三个管理员账号，可直接使用：

#### 超级管理员账号
- **用户名**: `admin`
- **密码**: `admin123`
- **权限**: 系统所有功能权限

#### 店长账号
- **用户名**: `manager`
- **密码**: `manager123`
- **权限**: 日常管理权限（员工、库存、菜单、桌台、订单管理）

#### 收银员账号
- **用户名**: `cashier`
- **密码**: `cashier123`
- **权限**: 基础操作权限（桌台、订单管理）

### 3. 快速登录
- 登录页面提供了演示账号区域
- 点击任意账号的"使用"按钮可快速填入用户名和密码
- 然后点击"登录"按钮即可

## 系统安全特性

### 登录验证
- 用户名和密码验证
- 登录状态保持（基于sessionStorage）
- 自动登录状态检查

### 权限控制
- 基于角色的权限管理
- 页面级权限控制
- 功能级权限控制
- 按钮/操作权限控制

### 用户信息管理
- 登录后显示用户信息
- 在线时长统计
- 用户资料查看
- 安全退出登录

## 界面说明

### 登录界面
- 现代化设计的登录页面
- 渐变背景和卡片式布局
- 演示账号快速选择
- 登录状态反馈

### 管理界面
- 导航栏右侧显示用户信息
- 用户名和角色显示
- 用户资料按钮（👤）
- 退出登录按钮（🚪）

## 权限级别详细说明

### 超级管理员 (admin)
✅ 所有系统功能
✅ 员工管理（增删改查）
✅ 库存管理（增删改查）
✅ 菜单管理（增删改查）
✅ 桌台管理
✅ 订单管理
✅ 数据统计报表

### 店长 (manager)
✅ 员工管理（查看和编辑，但不能删除）
✅ 库存管理
✅ 菜单管理
✅ 桌台管理
✅ 订单管理
✅ 数据统计报表

### 收银员 (cashier)
✅ 桌台管理
✅ 订单管理
✅ 基础数据统计
❌ 员工管理
❌ 库存管理
❌ 菜单管理

## 技术实现

### 前端认证
- `auth.js` - 认证工具库
- 基于sessionStorage的状态管理
- 页面加载时自动权限检查
- 权限控制属性 `data-permission`

### 账号存储
- 账号信息预设在前端代码中
- 管理员账号文档记录所有账号信息
- 暂不支持在线注册功能

## 使用建议

1. **首次使用**: 建议使用admin账号登录，体验所有功能
2. **日常使用**: 根据实际角色选择对应账号
3. **安全考虑**: 定期更换密码，不要共享账号
4. **权限测试**: 可以用不同角色账号测试权限控制效果

## 注意事项

- 刷新页面不会丢失登录状态
- 关闭浏览器会清除登录状态
- 未登录访问任何管理页面会自动跳转到登录页
- 权限不足的功能按钮会自动隐藏
- 退出登录会清除所有会话数据

## 后续升级建议

1. 集成数据库存储用户信息
2. 实现JWT令牌认证
3. 添加用户注册功能
4. 密码加密存储
5. 登录日志记录
6. 更细粒度的权限控制
7. 双因素认证（2FA）
